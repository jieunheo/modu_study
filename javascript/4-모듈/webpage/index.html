<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sample Webpage</title>
    <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="style.css" />

    <script src="./index.js" type="module"></script>
  </head>
  <body>
    <header class="global-header">
      <!-- <ul class="tab-menu">
        <li class="tab-item">
          <a href="#">
            <i>🌎</i>  
            월드 뉴스
          </a>
        </li>
        <li class="tab-item">
          <a href="#">여기는 뭘까요</a>
        </li>
        <li class="tab-item">
          <a href="#">About</a>
        </li>
      </ul> -->
    </header>

    <div class="tab-content">
      <div class="tab-panel">
        <h1>월드 뉴스</h1>
        <p>
          Lorem ipsum dolor sit, amet consectetur adipisicing elit. Accusamus
          consectetur hic alias sed reiciendis inventore aliquid at amet ut ea,
          eius libero dolores, commodi corporis expedita et! Laudantium, ex
          porro natus voluptatum optio non consequuntur quisquam rem quod alias
          omnis ducimus cum reiciendis repellat sit saepe consequatur doloribus
          perferendis quaerat sint. Delectus quaerat nisi debitis sequi quo
          aliquid facilis, corrupti laboriosam atque hic eius ullam quas.
          Officiis cupiditate aperiam quae voluptates accusamus? Nemo, amet
          laborum. Inventore ipsam ea quos recusandae ullam asperiores velit
          cumque? Ut odit dignissimos commodi accusamus aut. Veniam ut saepe
          animi ducimus vitae veritatis quod maxime qui!
        </p>
      </div>
      <div class="tab-panel">
        <h1>여기는 뭘까요</h1>
        <p>
          Delectus quaerat nisi debitis sequi quo aliquid facilis, corrupti
          laboriosam atque hic eius ullam quas. Officiis cupiditate aperiam quae
          voluptates accusamus? Nemo, amet laborum. Inventore ipsam ea quos
          recusandae ullam asperiores velit cumque? Ut odit dignissimos commodi
          accusamus aut. Veniam ut saepe animi ducimus vitae veritatis quod
          maxime qui!
        </p>
      </div>
      <div class="tab-panel">
        <h1>About</h1>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam,
          quos.
        </p>
      </div>
    </div>

    <footer class="global-footer"></footer>

    <script>
      const tabMenu = document.querySelector(".tab-menu");
      const tabItems = document.querySelectorAll(".tab-item");
      const tabPanels = document.querySelectorAll(".tab-panel");
      let currentIndex = 0;

      // window.addEventListener("load", function () {
      activeTab(currentIndex);
      // });

      tabItems.forEach((item, i) => {
        // item.addEventListener("click", clickTab);
        item.dataset.index = i; // 각 탭에 인덱스 저장
        item.addEventListener("click", clickTab);
      });

      function clickTab(e) {
        e.preventDefault(); // 링크 기본 동작 방지

        // e.currentTarget.classList.add("active");
        // const index = Array.from(tabItems).indexOf(e.currentTarget);
        // tabPanels[index].classList.add("active");

        activeTab(e.currentTarget.dataset.index);
      }

      function resetTab(className) {
        tabItems.forEach((item) => {
          item.classList.remove(className);
        });
        tabPanels.forEach((item) => {
          item.classList.remove(className);
        });
      }

      function activeTab(index) {
        // resetTab("active");

        tabItems[currentIndex].classList.remove("active");
        tabPanels[currentIndex].classList.remove("active");

        tabItems[index].classList.add("active");
        tabPanels[index].classList.add("active");
        currentIndex = index;
      }
    </script>
  </body>
</html>
