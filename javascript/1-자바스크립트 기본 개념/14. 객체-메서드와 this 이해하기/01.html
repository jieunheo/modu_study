<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript 객체: 메서드와 this 이해하기</title>
  </head>
  <body>
    <script>
      /* 메서드란?
      객체 안에 들어 있는 함수는 메서드(method)라고 함.
      메서드는 객체가 할 수 있는 행동을 나타냄.
      */
      const user = {
        name: "철수",
        sayHello: function () {
          console.log("안녕하세요!");
        },
      };

      user.sayHello(); // sayHello는 user 객체의 메서드

      // 메서드 간단히 쓰기
      const user2 = {
        name: "영희",
        sayBye() {
          console.log("잘 가요!");
        },
      };

      user2.sayBye();

      // this로 객체 내부 접근하기
      // 메서드 안에서 this는 현재 객체(메서드를 호출한 객체)를 가리킴.
      const user3 = {
        name: "지수",
        showName() {
          console.log(`내 이름은 ${this.name}입니다.`);
        },
      };

      user.showName();

      // 여러 객체에서 같은 함수 쓰기.
      function sayHi() {
        console.log(this.name);
      }

      const user5 = { name: "가영", hi: sayHi };
      const user6 = { name: "도현", hi: sayHi };

      user5.hi(); // 가영
      user6.hi(); // 도현
      // this는 호출한 객체에 따라 달라짐.

      // 화살표 함수에서 this
      // 화살표 함수는 this를 바인딩하지 않음. 따라서, 화살표 함수 안에서 this는 외부 컨텍스트의 this를 참조함.
      // 아래 예시에서 this는 전역 객체를 가리킴.
      const user7 = {
        name: "세민",
        sayLater: () => {
          console.log(this.name); // ✘
        },
      };

      user.sayLater();
    </script>
  </body>
</html>
